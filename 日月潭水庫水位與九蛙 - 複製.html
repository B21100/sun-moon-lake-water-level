<!DOCTYPE html>
<html>
<head>
<title>日月潭水庫水位與九蛙</title> 
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    /* 優先使用系統字體，確保手機有支援 */
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    padding: 20px;
    text-align: center;
    color: #333; /* 確保文字顏色清晰可見，避免與背景色衝突 */
    
    /* 新增背景圖片 */
    background-color: #e0f2f7; /* 淡藍色背景，作為圖片未載入時的備用或底色 */
    /* 請將以下圖片連結替換為您可以穩定存取的水庫和九蛙圖片 URL */
    /* 範例圖片連結，這些可能不是您想要的實際圖片，請替換！ */
    background-image: url('https://via.placeholder.com/800x600/add8e6/000000?text=Sun+Moon+Lake+Dam'), url('https://via.placeholder.com/100x50/90ee90/000000?text=Frogs'); 
    background-repeat: no-repeat, repeat-x; /* 水庫圖不重複，青蛙圖在X軸重複 */
    background-position: center center, bottom center; /* 水庫圖居中，青蛙圖在底部居中 */
    background-size: 80% auto, 100px auto; /* 水庫圖佔80%寬度，青蛙圖寬度100px */
    background-attachment: fixed, scroll; /* 水庫圖固定，青蛙圖隨滾動 */
    /* 確保文字不會因為某些罕見情況被隱藏或截斷 */
    overflow-wrap: break-word; /* 防止長單詞溢出導致佈局問題 */
    word-wrap: break-word; /* 舊版瀏覽器兼容 */
  }
  h1 {
    color: #004080; /* 更深的藍色標題 */
    margin-bottom: 30px;
  }
  label {
    font-size: 1.1em;
    margin-bottom: 10px;
    display: block;
  }
  /* 將 input[type="number"] 中的 step 屬性移除了 */
  input[type="number"] {
    padding: 10px 15px;
    margin-bottom: 25px;
    width: calc(100% - 40px);
    max-width: 280px; /* 稍微加大輸入框 */
    font-size: 1.1em;
    border: 1px solid #90caf9; /* 淺藍色邊框 */
    border-radius: 5px;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
    transition: border-color 0.3s;
  }
  input[type="number"]:focus {
    border-color: #007bff;
    outline: none;
  }
  p {
    font-size: 1.2em;
    margin-top: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    color: #333; /* 確保段落文字顏色正常 */
  }
  #result {
    font-size: 1.6em; /* 稍微放大結果文字 */
    font-weight: bold;
    padding: 10px 20px;
    border-radius: 8px; /* 圓角更大 */
    display: inline-block;
    min-width: 200px; /* 確保結果區域足夠寬 */
    background-color: #ffffff; /* 白色背景 */
    box-shadow: 0 4px 6px rgba(0,0,0,0.1); /* 增加陰影效果 */
    /* 確保結果文字顏色也是清晰可見的 */
    color: inherit; /* 繼承父元素的顏色，這是正確的行為 */
    /* 避免文字因某種原因被隱藏或透明 */
    opacity: 1; 
    visibility: visible;
  }

  /* 根據水位調整顏色：深藍 -> 淺藍 -> 淺綠 -> 深綠 */
  /* 水位越高 (青蛙越少)，顏色越深藍 */
  /* 水位越低 (青蛙越多)，顏色越深綠 */
  .zone-exceed { color: #A52A2A; font-weight: bold; } /* 超過滿水位：咖啡紅色，表示警戒 */
  .zone-full { color: #000080; } /* 滿水位：非常深藍 (接近海軍藍) */
  .zone-one { color: #0000B2; } /* 深藍 */
  .zone-two { color: #0000CD; } /* 中藍 */
  .zone-three { color: #0000FF; } /* 純藍 */
  .zone-four { color: #4169E1; } /* 寶藍 */
  .zone-five { color: #87CEFA; } /* 淺藍 (天藍) */
  .zone-six { color: #98FB98; } /* 淺綠 (淡綠) */
  .zone-seven { color: #7CFC00; } /* 綠黃色 (草綠) */
  .zone-eight { color: #32CD32; } /* 鮮綠 */
  .zone-nine { color: #008000; } /* 第9隻青蛙：深綠 (森林綠) */
  .zone-dead-water { color: #4B0082; background-color: #f0f0f0; } /* 呆水位：深紫色，表示重要狀態 */
  .zone-below-dead { color: #8B4513; font-weight: bold; } /* 低於呆水位：土棕色，表示缺水嚴重 */
  .invalid { color: #757575; } /* 灰色，錯誤或無效輸入 */
</style>
</head>
<body>

  <h1>日月潭水庫水位與九蛙</h1> 
<label for="waterLevelInput">請輸入水庫即時水位 (單位：公尺):</label>
    <input type="number" id="waterLevelInput" placeholder="例如: 748.25">

  <p>目前狀態: <span id="result">---</span></p>

    <script>
    // 使用 DOMContentLoaded 確保 DOM 完全載入後再執行 JavaScript
    document.addEventListener('DOMContentLoaded', (event) => {
      const waterLevelInput = document.getElementById('waterLevelInput');
      const resultSpan = document.getElementById('result');

      // 定義水位區間及其對應的青蛙露出訊息和樣式類別
      const waterLevelFrogZones = [
        { min: 748.48001, max: Infinity, message: '超過滿水位高程', className: 'zone-exceed' }, 
        { min: 748.48, max: 748.48, message: '滿水位，無青蛙露出水面', className: 'zone-full' },
        { min: 748.31, max: 748.47, message: '第1隻青蛙露出水面', className: 'zone-one' },
        { min: 748.14, max: 748.30, message: '第2隻青蛙露出水面', className: 'zone-two' },
        { min: 747.81, max: 748.13, message: '第3隻青蛙露出水面', className: 'zone-three' },
        { min: 747.51, max: 747.80, message: '第4隻青蛙露出水面', className: 'zone-four' },
        { min: 747.16, max: 747.50, message: '第5隻青蛙露出水面', className: 'zone-five' },
        { min: 746.82, max: 747.15, message: '第6隻青蛙露出水面', className: 'zone-six' },
        { min: 746.38, max: 746.81, message: '第7隻青蛙露出水面', className: 'zone-seven' },
        { min: 745.90, max: 746.37, message: '第8隻青蛙露出水面', className: 'zone-eight' },
        { min: 727.28, max: 745.89, message: '第9隻青蛙露出水面', className: 'zone-nine' },
        { min: 727.27, max: 727.27, message: '呆水位，全部青蛙露出水面', className: 'zone-dead-water' },
        { min: -Infinity, max: 727.26999, message: '低於呆水位高程', className: 'zone-below-dead' }
      ];

      function checkWaterLevelAndFrogs() {
        // 確保總是從 input 元素中獲取當前值
        const waterLevel =
